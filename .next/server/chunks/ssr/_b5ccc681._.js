module.exports=[40695,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function g({className:a,variant:d,size:g,asChild:h=!1,...i}){let j=h?c.Slot:"button";return(0,b.jsx)(j,{"data-slot":"button",className:(0,e.cn)(f({variant:d,size:g,className:a})),...i})}a.s(["Button",()=>g])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},44104,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(40695),e=a.i(3130);function f(){let[a,f]=(0,c.useState)("loading"),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(null),o=async()=>{f("loading");try{let a=await fetch("/api/test-mysql"),b=await a.json();b.success?(f("success"),h("")):(f("error"),h(b.error||"Unknown error"))}catch(a){f("error"),h(a instanceof Error?a.message:"Network error")}},p=async()=>{try{let a=await fetch("/api/inspect-db"),b=await a.json();n(b)}catch(a){console.error("Database inspection failed:",a)}},q=async()=>{try{let a=await fetch("/api/sales/stats?period=today"),b=await a.json();b.success?(j(b.data),l("")):(l(b.error||"Failed to fetch sales data"),j(null))}catch(a){l(a instanceof Error?a.message:"Network error"),j(null)}};return(0,c.useEffect)(()=>{o(),p()},[]),(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"MySQL Integration Test & Database Inspector"}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"MySQL Connection"}),(0,b.jsx)(e.CardDescription,{children:"Test basic MySQL database connection"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${"loading"===a?"bg-yellow-500":"success"===a?"bg-green-500":"bg-red-500"}`}),(0,b.jsx)("span",{className:"font-medium",children:"loading"===a?"Testing...":"success"===a?"Connected":"Failed"})]}),g&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,b.jsx)("p",{className:"text-sm text-red-700",children:g})}),(0,b.jsx)(d.Button,{onClick:o,disabled:"loading"===a,children:"Test Connection"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Sales API"}),(0,b.jsx)(e.CardDescription,{children:"Test sales data retrieval from MySQL"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsx)(d.Button,{onClick:q,children:"Test Sales API"}),k&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,b.jsx)("p",{className:"text-sm text-red-700",children:k})}),i&&(0,b.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,b.jsx)("h4",{className:"font-medium text-green-800",children:"Sales Data Retrieved:"}),(0,b.jsx)("pre",{className:"text-xs text-green-700 mt-2 overflow-auto max-h-40",children:JSON.stringify(i,null,2)})]})]})]})]}),m&&(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Database Inspection"}),(0,b.jsx)(e.CardDescription,{children:"Your current database structure and data"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Connection Status:"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${m.connection?"bg-green-500":"bg-red-500"}`}),(0,b.jsx)("span",{children:m.connection?"Connected":"Failed"})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Database: ",m.database]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Tables Found:"}),(0,b.jsx)("div",{className:"text-sm space-y-1",children:m.tables?.length>0?m.tables.map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:a.TABLE_NAME}),(0,b.jsxs)("span",{className:"text-gray-500",children:["(",a.TABLE_ROWS," rows)"]})]},c)):(0,b.jsx)("p",{className:"text-gray-500",children:"No tables found"})})]})]}),m.salesTableStructure&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-medium mb-2",children:["Sales Table Structure (",m.salesTableStructure.tableName,"):"]}),(0,b.jsx)("div",{className:"bg-gray-50 p-3 rounded-md overflow-auto",children:(0,b.jsxs)("table",{className:"text-sm w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("th",{className:"text-left p-1",children:"Column"}),(0,b.jsx)("th",{className:"text-left p-1",children:"Type"}),(0,b.jsx)("th",{className:"text-left p-1",children:"Null"}),(0,b.jsx)("th",{className:"text-left p-1",children:"Key"})]})}),(0,b.jsx)("tbody",{children:m.salesTableStructure.columns.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("td",{className:"p-1 font-mono",children:a.Field}),(0,b.jsx)("td",{className:"p-1",children:a.Type}),(0,b.jsx)("td",{className:"p-1",children:a.Null}),(0,b.jsx)("td",{className:"p-1",children:a.Key})]},c))})]})})]}),m.sampleData&&m.sampleData.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Sample Data (First 5 rows):"}),(0,b.jsx)("div",{className:"bg-gray-50 p-3 rounded-md overflow-auto",children:(0,b.jsx)("pre",{className:"text-xs",children:JSON.stringify(m.sampleData,null,2)})})]}),m.error&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,b.jsx)("p",{className:"text-sm text-red-700",children:m.error})}),(0,b.jsx)(d.Button,{onClick:p,children:"Refresh Database Inspection"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Environment Configuration"}),(0,b.jsx)(e.CardDescription,{children:"Check if required environment variables are set"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,b.jsx)("span",{className:"text-sm",children:"Check your .env.local file has MySQL credentials"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Required variables: MYSQL_HOST, MYSQL_USER, MYSQL_PASSWORD, MYSQL_DATABASE"})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Setup Instructions"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h4",{className:"font-medium",children:"1. Configure Environment Variables"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Update .env.local with your actual MySQL credentials"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h4",{className:"font-medium",children:"2. Check Database Connection"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Use the database inspection above to see your current tables and structure"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h4",{className:"font-medium",children:"3. Test Sales Data"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Once connected, test the sales API to see if data is being retrieved"})]})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_b5ccc681._.js.map