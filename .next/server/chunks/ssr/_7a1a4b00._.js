module.exports=[92258,a=>{"use strict";let b=(0,a.i(70106).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],92258)},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(97895);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],17171)},9182,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(40695),f=a.i(5522),g=a.i(3130),h=a.i(90669),i=a.i(92258);let j=(0,a.i(70106).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var k=a.i(38246),l=a.i(50944),m=a.i(17171),n=a.i(69240),o=a.i(77687);function p(){let a=(0,l.useRouter)(),{toast:p}=(0,o.useToast)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)({email:"",password:""}),u=async b=>{b.preventDefault(),r(!0);try{let b=(0,n.createClient)(),{data:c,error:d}=await b.auth.signInWithPassword({email:s.email,password:s.password});if(d)throw d;if(!c.user)throw Error("No user data returned");let{data:e,error:f}=await b.from("profiles").select("role").eq("id",c.user.id).single();if(f){console.error("[v0] Profile fetch error:",f),a.push("/manager/dashboard"),p({title:"Login successful",description:"Welcome! Please complete your profile setup."});return}e?.role==="admin"?a.push("/admin/dashboard"):a.push("/manager/dashboard"),p({title:"Login successful",description:`Welcome back, ${e?.role||"user"}!`})}catch(a){console.error("[v0] Login error:",a),p({title:"Login failed",description:a.message||"Invalid email or password. Please try again.",variant:"destructive"})}finally{r(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen grid lg:grid-cols-2",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"hidden lg:flex flex-col justify-center items-center p-12 bg-gradient-to-br from-primary via-primary/90 to-primary/70 text-primary-foreground relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,b.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"})}),(0,b.jsxs)("div",{className:"max-w-md relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/20",children:(0,b.jsx)(h.Activity,{className:"w-8 h-8"})}),(0,b.jsx)("span",{className:"text-2xl font-normal",children:"Smart Pharma"})]}),(0,b.jsx)("h1",{className:"text-4xl font-normal mb-4 text-balance leading-tight",children:"Welcome Back to Smart Pharmacy Management"}),(0,b.jsx)("p",{className:"text-base text-primary-foreground/80 leading-relaxed font-light",children:"Real-time inventory tracking, AI-powered forecasting, and intelligent alerts to help you manage your pharmacy efficiently."})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-center p-6 bg-background",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"w-full max-w-md",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-normal mb-2",children:"Sign In"}),(0,b.jsx)("p",{className:"text-muted-foreground font-light",children:"Enter your credentials to access your dashboard"})]}),(0,b.jsx)(g.Card,{className:"p-8 border-border/50 shadow-lg",children:(0,b.jsxs)("form",{onSubmit:u,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"email",className:"font-normal",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{id:"email",type:"email",placeholder:"admin@pharmacy.com",value:s.email,onChange:a=>t({...s,email:a.target.value}),className:"pl-10 h-11 font-light",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"password",className:"font-normal",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{id:"password",type:"password",placeholder:"Enter your password",value:s.password,onChange:a=>t({...s,password:a.target.value}),className:"pl-10 h-11 font-light",required:!0})]})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full h-11 font-normal",size:"lg",disabled:q,children:q?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing In..."]}):"Sign In"}),(0,b.jsxs)("p",{className:"text-center text-sm text-muted-foreground font-light pt-2",children:["Don't have an account?"," ",(0,b.jsx)(k.default,{href:"/signup",className:"text-primary hover:underline font-normal",children:"Sign up"})]})]})}),(0,b.jsx)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg border border-border/50",children:(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center font-light",children:"Demo: admin@pharmacy.com / Create an account to get started"})})]})})]})}a.s(["default",()=>p],9182)}];

//# sourceMappingURL=_7a1a4b00._.js.map