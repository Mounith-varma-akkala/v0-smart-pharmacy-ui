(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,e=>{"use strict";var t=e.i(43476),a=e.i(91918),s=e.i(25913),r=e.i(47163);let n=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function i({className:e,variant:s,size:i,asChild:d=!1,...c}){let l=d?a.Slot:"button";return(0,t.jsx)(l,{"data-slot":"button",className:(0,r.cn)(n({variant:s,size:i,className:e})),...c})}e.s(["Button",()=>i])},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>n])},90571,e=>{"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)0>t.indexOf(s[r])&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]]);return a}function s(e,t,a,s){return new(a||(a=Promise))(function(r,n){function i(e){try{c(s.next(e))}catch(e){n(e)}}function d(e){try{c(s.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,d)}c((s=s.apply(e,t||[])).next())})}function r(e,t,a){if(a||2==arguments.length)for(var s,r=0,n=t.length;r<n;r++)!s&&r in t||(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.s(["__assign",()=>t,"__awaiter",()=>s,"__rest",()=>a,"__spreadArray",()=>r])},77059,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(67881),r=e.i(70065),n=e.i(20755);function i(){let[e,i]=(0,a.useState)([]),[d,c]=(0,a.useState)(null),[l,o]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),h=(0,n.createClient)(),p=async()=>{o(!0),x("");try{let{data:e,error:t}=await h.from("sales").select(`
          id,
          quantity,
          total_price,
          sale_date,
          medicines (
            name,
            category,
            price
          )
        `).order("sale_date",{ascending:!1}).limit(10);if(t)throw t;i(e||[]);let a=new Date().toISOString().split("T")[0],{data:s}=await h.from("sales").select("quantity, total_price").gte("sale_date",`${a}T00:00:00`).lte("sale_date",`${a}T23:59:59`),{count:r}=await h.from("sales").select("*",{count:"exact",head:!0}),n=s?.reduce((e,t)=>e+(t.quantity||0),0)||0,d=s?.reduce((e,t)=>e+(t.total_price||0),0)||0;c({totalSales:r||0,todayQuantity:n,todayRevenue:d,hasData:(e?.length||0)>0})}catch(e){x(e instanceof Error?e.message:"Unknown error")}finally{o(!1)}},m=async()=>{o(!0);try{let e=await fetch("/api/add-sample-sales",{method:"POST"}),t=await e.json();t.success?await p():x(t.error||"Failed to add sample sales")}catch(e){x(e instanceof Error?e.message:"Network error")}finally{o(!1)}};return(0,a.useEffect)(()=>{p()},[]),(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Supabase Sales Data Test"}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Sales Statistics"}),(0,t.jsx)(r.CardDescription,{children:"Current sales data from Supabase"})]}),(0,t.jsxs)(r.CardContent,{className:"space-y-4",children:[d&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Total Sales Records:"}),(0,t.jsx)("span",{className:"font-medium",children:d.totalSales})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Today's Units Sold:"}),(0,t.jsx)("span",{className:"font-medium",children:d.todayQuantity})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Today's Revenue:"}),(0,t.jsxs)("span",{className:"font-medium",children:["$",d.todayRevenue?.toFixed(2)||"0.00"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Data Status:"}),(0,t.jsx)("span",{className:`font-medium ${d.hasData?"text-green-600":"text-red-600"}`,children:d.hasData?"Has Data":"No Data"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(s.Button,{onClick:p,disabled:l,children:"Refresh Data"}),(0,t.jsx)(s.Button,{onClick:m,disabled:l,variant:"outline",children:"Add Sample Sales"})]})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Status"}),(0,t.jsx)(r.CardDescription,{children:"Connection and data status"})]}),(0,t.jsxs)(r.CardContent,{children:[u&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,t.jsx)("p",{className:"text-sm text-red-700",children:u})}),!u&&d&&(0,t.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:(0,t.jsx)("p",{className:"text-sm text-green-700",children:"âœ… Successfully connected to Supabase sales table"})}),l&&(0,t.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Loading..."})})]})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Recent Sales Data"}),(0,t.jsx)(r.CardDescription,{children:"Last 10 sales records from your Supabase database"})]}),(0,t.jsx)(r.CardContent,{children:e.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-2",children:"Date"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Medicine"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Category"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Quantity"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Total Price"})]})}),(0,t.jsx)("tbody",{children:e.map((e,a)=>(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-2",children:new Date(e.sale_date).toLocaleDateString()}),(0,t.jsx)("td",{className:"p-2",children:e.medicines?.name||"Unknown"}),(0,t.jsx)("td",{className:"p-2",children:e.medicines?.category||"N/A"}),(0,t.jsx)("td",{className:"p-2",children:e.quantity}),(0,t.jsxs)("td",{className:"p-2",children:["$",e.total_price?.toFixed(2)||"0.00"]})]},e.id))})]})}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("p",{children:"No sales data found"}),(0,t.jsx)(s.Button,{onClick:m,className:"mt-4",disabled:l,children:"Add Sample Sales Data"})]})})]})]})}e.s(["default",()=>i])}]);