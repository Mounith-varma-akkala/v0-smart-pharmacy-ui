(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var s=e.i(43476),t=e.i(47163);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function d({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},67881,e=>{"use strict";var s=e.i(43476),t=e.i(91918),a=e.i(25913),r=e.i(47163);let i=(0,a.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function n({className:e,variant:a,size:n,asChild:d=!1,...c}){let l=d?t.Slot:"button";return(0,s.jsx)(l,{"data-slot":"button",className:(0,r.cn)(i({variant:a,size:n,className:e})),...c})}e.s(["Button",()=>n])},94179,e=>{"use strict";var s=e.i(43476),t=e.i(91918),a=e.i(25913),r=e.i(47163);let i=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,asChild:n=!1,...d}){let c=n?t.Slot:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,r.cn)(i({variant:a}),e),...d})}e.s(["Badge",()=>n])},93760,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(70065),r=e.i(67881),i=e.i(94179);function n(){let[e,n]=(0,t.useState)([]),[d,c]=(0,t.useState)(null),[l,o]=(0,t.useState)(!1),[x,m]=(0,t.useState)(null),u=async()=>{o(!0),m(null);try{let e=await fetch("/api/sales?limit=10"),s=await e.json();s.success?n(s.data):m(s.error||"Failed to fetch sales")}catch(e){m(e instanceof Error?e.message:"Unknown error")}finally{o(!1)}},g=async(e="today")=>{o(!0),m(null);try{let s=await fetch(`/api/sales/stats?period=${e}`),t=await s.json();t.success?c(t.data):m(t.error||"Failed to fetch stats")}catch(e){m(e instanceof Error?e.message:"Unknown error")}finally{o(!1)}};return(0,t.useEffect)(()=>{u(),g()},[]),(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Sales Integration Test"}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(r.Button,{onClick:u,disabled:l,children:"Refresh Sales"}),(0,s.jsx)(r.Button,{onClick:()=>g("today"),disabled:l,children:"Today Stats"}),(0,s.jsx)(r.Button,{onClick:()=>g("week"),disabled:l,children:"Week Stats"})]})]}),x&&(0,s.jsx)(a.Card,{className:"p-4 border-red-200 bg-red-50",children:(0,s.jsxs)("p",{className:"text-red-600",children:["Error: ",x]})}),l&&(0,s.jsx)(a.Card,{className:"p-4",children:(0,s.jsx)("p",{children:"Loading..."})}),d&&(0,s.jsxs)(a.Card,{className:"p-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Sales Statistics (",d.period,")"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:d.summary.total_transactions}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Transactions"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:d.summary.total_units_sold}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Units Sold"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["₹",d.summary.total_revenue.toFixed(2)]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:["₹",d.summary.average_sale_value.toFixed(2)]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Sale Value"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:d.summary.unique_customers}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Unique Customers"})]})]}),d.topMedicines.length>0&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Top Medicines"}),(0,s.jsx)("div",{className:"space-y-2",children:d.topMedicines.slice(0,5).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.medicine_name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.category})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-semibold",children:[e.total_sold," units"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["₹",e.revenue.toFixed(2)]})]})]},t))})]}),d.paymentMethods.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Payment Methods"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.paymentMethods.map((e,t)=>(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"font-medium",children:e.payment_method}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.transaction_count," transactions"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["₹",e.revenue.toFixed(2)]})]},t))})]})]}),(0,s.jsxs)(a.Card,{className:"p-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Recent Sales (",e.length," records)"]}),0===e.length?(0,s.jsx)("p",{className:"text-gray-500",children:"No sales data found"}):(0,s.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.medicine_name}),(0,s.jsx)(i.Badge,{variant:"secondary",children:e.medicine_category})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Customer: ",e.customer_name||"Walk-in"," | Qty: ",e.quantity," | Unit Price: ₹",e.unit_price]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-semibold",children:["₹",e.total_price]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.payment_method}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.sale_date).toLocaleDateString()})]})]},e.id))})]})]})}e.s(["default",()=>n])}]);